name: Update PDF

on: push

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v2
        with:
          persist-credentials: false

      - name: Set up Git
        run: |
          git config user.name 'GitHub Action'
          git config user.email 'action@github.com'

      - name: Custom script to generate PDF
        run: |
          echo "Running script to generate PDF..."
          pandoc -s README.md -o README.pdf

      - name: Commit and Push
        run: |
          git add .
          git commit -m 'Update PDF' || echo 'No changes to commit'
          git remote set-url origin https://${{ secrets.GH_TOKEN }}@github.com/${{ github.repository }}.git
          git push --set-upstream origin HEAD:main
        env:
          GH_TOKEN: ${{ secrets.GH_TOKEN }}



